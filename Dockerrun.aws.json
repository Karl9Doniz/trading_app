{
    "AWSEBDockerrunVersion": 3,
    "volumes": [
      {
        "name": "postgres_data",
        "host": {
          "sourcePath": "/var/app/current/postgres_data"
        }
      }
    ],
    "containerDefinitions": [
      {
        "name": "db",
        "image": "postgres:13",
        "essential": true,
        "memory": 256,
        "mountPoints": [
          {
            "sourceVolume": "postgres_data",
            "containerPath": "/var/lib/postgresql/data"
          }
        ],
        "portMappings": [
          {
            "hostPort": 5432,
            "containerPort": 5432
          }
        ],
        "environment": [
          {
            "name": "POSTGRES_USER",
            "value": "postgres"
          },
          {
            "name": "POSTGRES_PASSWORD",
            "value": "metascore"
          },
          {
            "name": "POSTGRES_DB",
            "value": "invoices"
          }
        ]
      },
      {
        "name": "backend",
        "image": "your-account-id.dkr.ecr.your-region.amazonaws.com/your-repo-name:backend",
        "essential": true,
        "memory": 256,
        "portMappings": [
          {
            "hostPort": 5001,
            "containerPort": 5000
          }
        ],
        "links": [
          "db"
        ],
        "environment": [
          {
            "name": "FLASK_APP",
            "value": "run.py"
          },
          {
            "name": "FLASK_ENV",
            "value": "production"
          },
          {
            "name": "DATABASE_URL",
            "value": "postgresql://postgres:metascore@db/invoices"
          }
        ]
      },
      {
        "name": "frontend",
        "image": "your-account-id.dkr.ecr.your-region.amazonaws.com/your-repo-name:frontend",
        "essential": true,
        "memory": 256,
        "portMappings": [
          {
            "hostPort": 80,
            "containerPort": 80
          }
        ],
        "links": [
          "backend"
        ]
      }
    ]
  }